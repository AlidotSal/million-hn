
var El=Object.create,Ie=Object.defineProperty,Ol=Object.getPrototypeOf,Ll=Object.prototype.hasOwnProperty,kl=Object.getOwnPropertyNames,Fl=Object.getOwnPropertyDescriptor;var Pl=i=>Ie(i,"__esModule",{value:!0});var jl=(i,t)=>()=>(t||(t={exports:{}},i(t.exports,t)),t.exports);var Ml=(i,t,e)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of kl(t))!Ll.call(i,r)&&r!=="default"&&Ie(i,r,{get:()=>t[r],enumerable:!(e=Fl(t,r))||e.enumerable});return i},Dl=i=>Ml(Pl(Ie(i!=null?El(Ol(i)):{},"default",i&&i.__esModule&&"default"in i?{get:()=>i.default,enumerable:!0}:{value:i,enumerable:!0})),i);var hs=jl((qa,or)=>{"use strict";var Lt=typeof Reflect=="object"?Reflect:null,ts=Lt&&typeof Lt.apply=="function"?Lt.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)},xe;Lt&&typeof Lt.ownKeys=="function"?xe=Lt.ownKeys:Object.getOwnPropertySymbols?xe=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:xe=function(t){return Object.getOwnPropertyNames(t)};function Hu(i){console&&console.warn&&console.warn(i)}var es=Number.isNaN||function(t){return t!==t};function P(){P.init.call(this)}or.exports=P;or.exports.once=Uu;P.EventEmitter=P;P.prototype._events=void 0;P.prototype._eventsCount=0;P.prototype._maxListeners=void 0;var rs=10;function ve(i){if(typeof i!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}Object.defineProperty(P,"defaultMaxListeners",{enumerable:!0,get:function(){return rs},set:function(i){if(typeof i!="number"||i<0||es(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");rs=i}});P.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};P.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||es(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function is(i){return i._maxListeners===void 0?P.defaultMaxListeners:i._maxListeners}P.prototype.getMaxListeners=function(){return is(this)};P.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var s=t==="error",n=this._events;if(n!==void 0)s=s&&n.error===void 0;else if(!s)return!1;if(s){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var u=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw u.context=o,u}var l=n[t];if(l===void 0)return!1;if(typeof l=="function")ts(l,this,e);else for(var a=l.length,m=ss(l,a),r=0;r<a;++r)ts(m[r],this,e);return!0};function ns(i,t,e,r){var s,n,o;if(ve(e),n=i._events,n===void 0?(n=i._events=Object.create(null),i._eventsCount=0):(n.newListener!==void 0&&(i.emit("newListener",t,e.listener?e.listener:e),n=i._events),o=n[t]),o===void 0)o=n[t]=e,++i._eventsCount;else if(typeof o=="function"?o=n[t]=r?[e,o]:[o,e]:r?o.unshift(e):o.push(e),s=is(i),s>0&&o.length>s&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=i,u.type=t,u.count=o.length,Hu(u)}return i}P.prototype.addListener=function(t,e){return ns(this,t,e,!1)};P.prototype.on=P.prototype.addListener;P.prototype.prependListener=function(t,e){return ns(this,t,e,!0)};function Ku(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function os(i,t,e){var r={fired:!1,wrapFn:void 0,target:i,type:t,listener:e},s=Ku.bind(r);return s.listener=e,r.wrapFn=s,s}P.prototype.once=function(t,e){return ve(e),this.on(t,os(this,t,e)),this};P.prototype.prependOnceListener=function(t,e){return ve(e),this.prependListener(t,os(this,t,e)),this};P.prototype.removeListener=function(t,e){var r,s,n,o,u;if(ve(e),s=this._events,s===void 0)return this;if(r=s[t],r===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete s[t],s.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(n=-1,o=r.length-1;o>=0;o--)if(r[o]===e||r[o].listener===e){u=r[o].listener,n=o;break}if(n<0)return this;n===0?r.shift():Vu(r,n),r.length===1&&(s[t]=r[0]),s.removeListener!==void 0&&this.emit("removeListener",t,u||e)}return this};P.prototype.off=P.prototype.removeListener;P.prototype.removeAllListeners=function(t){var e,r,s;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var n=Object.keys(r),o;for(s=0;s<n.length;++s)o=n[s],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=r[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(s=e.length-1;s>=0;s--)this.removeListener(t,e[s]);return this};function ls(i,t,e){var r=i._events;if(r===void 0)return[];var s=r[t];return s===void 0?[]:typeof s=="function"?e?[s.listener||s]:[s]:e?Bu(s):ss(s,s.length)}P.prototype.listeners=function(t){return ls(this,t,!0)};P.prototype.rawListeners=function(t){return ls(this,t,!1)};P.listenerCount=function(i,t){return typeof i.listenerCount=="function"?i.listenerCount(t):us.call(i,t)};P.prototype.listenerCount=us;function us(i){var t=this._events;if(t!==void 0){var e=t[i];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}P.prototype.eventNames=function(){return this._eventsCount>0?xe(this._events):[]};function ss(i,t){for(var e=new Array(t),r=0;r<t;++r)e[r]=i[r];return e}function Vu(i,t){for(;t+1<i.length;t++)i[t]=i[t+1];i.pop()}function Bu(i){for(var t=new Array(i.length),e=0;e<t.length;++e)t[e]=i[e].listener||i[e];return t}function Uu(i,t){return new Promise(function(e,r){function s(){n!==void 0&&i.removeListener("error",n),e([].slice.call(arguments))}var n;t!=="error"&&(n=function(u){i.removeListener(t,s),r(u)},i.once("error",n)),i.once(t,s)})}});var Lh=Symbol.for("#__initor__"),kh=Symbol.for("#__inited__"),Fh=Symbol.for("#__hooks__"),Ph=Symbol.for("#type"),Zt=Symbol.for("#__listeners__");var wr=class{static for(t){return new Proxy({},new this(t))}constructor(t){this.getter=t}get target(){return this.getter()}get(t,e){return this.target[e]}set(t,e,r){return this.target[e]=r,!0}};function Cr(i,t={}){return new Proxy(t,new wr(i))}function Dt(i){let t=typeof i;if(t=="number")return i;if(t=="string"){if(/^\d+fps$/.test(i))return 1e3/parseFloat(i);if(/^([-+]?[\d\.]+)s$/.test(i))return parseFloat(i)*1e3;if(/^([-+]?[\d\.]+)ms$/.test(i))return parseFloat(i)}return null}function te(i,t,e){if(!i)return;let r=Object.getOwnPropertyDescriptor(i,t);return r||i==e?r||void 0:te(Reflect.getPrototypeOf(i),t,e)}var Tr=function(i,t,e){let r,s,n;for(;(r=e)&&(e=e.next);)(s=e.listener)&&(e.path&&s[e.path]?n=t?s[e.path].apply(s,t):s[e.path]():n=t?s.apply(e,t):s.call(e)),e.times&&--e.times<=0&&(r.next=e.next,e.listener=null)};function Rt(i,t,e,r){var s;let n,o,u;return n=i[Zt]||(i[Zt]={}),o=n[t]||(n[t]={}),u=o.tail||(o.tail=o.next={}),u.listener=e,u.path=r,o.tail=u.next={},u}function gt(i,t,e){let r=Rt(i,t,e);return r.times=1,r}function ee(i,t,e,r){let s,n,o=i[Zt];if(!!o&&(s=o[t])){for(;(n=s)&&(s=s.next);)if(s==e||s.listener==e){n.next=s.next,s.listener=null;break}}}function ft(i,t,e){let r;(r=i[Zt])&&(r[t]&&Tr(t,e,r[t]),r.all&&Tr(t,[t,e],r.all))}function Rl(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var Nr=Symbol.for("#__init__"),Il=Symbol.for("#__patch__"),Mh=Symbol.for("#__initor__"),Dh=Symbol.for("#__inited__"),Rh=Symbol.for("#__hooks__"),Er=Symbol.for("#schedule"),qe=Symbol.for("#frames"),re=Symbol.for("#interval"),Ct=Symbol.for("#stage"),Tt=Symbol.for("#scheduled"),ie=Symbol.for("#version"),ql=Symbol.for("#fps"),Or=Symbol.for("#ticker"),Al=globalThis.requestAnimationFrame||function(i){return globalThis.setTimeout(i,1e3/60)};var Ih=1/60,Lr=class{[Il](t={}){var e;(e=t.owner)!==void 0&&(this.owner=e),(e=t.target)!==void 0&&(this.target=e),(e=t.active)!==void 0&&(this.active=e),(e=t.value)!==void 0&&(this.value=e),(e=t.skip)!==void 0&&(this.skip=e),(e=t.last)!==void 0&&(this.last=e)}constructor(t=null){this[Nr](t)}[Nr](t=null){var e;this.owner=t&&(e=t.owner)!==void 0?e:null,this.target=t&&(e=t.target)!==void 0?e:null,this.active=t&&(e=t.active)!==void 0?e:!1,this.value=t&&(e=t.value)!==void 0?e:void 0,this.skip=t&&(e=t.skip)!==void 0?e:0,this.last=t&&(e=t.last)!==void 0?e:0}tick(t,e){return this.last=this.owner[qe],this.target.tick(this,e),1}update(t,e){let r=this.active,s=t.value;return this.value!=s&&(this.deactivate(),this.value=s),(this.value||r||e)&&this.activate(),this}queue(){this.owner.add(this)}activate(){return this.value===!0?this.owner.on("commit",this):this.value===!1||typeof this.value=="number"&&(this.value/(1e3/60)<=2?this.owner.on("raf",this):this[re]=globalThis.setInterval(this.queue.bind(this),this.value)),this.active=!0,this}deactivate(){return this.value===!0&&this.owner.un("commit",this),this.owner.un("raf",this),this[re]&&(globalThis.clearInterval(this[re]),this[re]=null),this.active=!1,this}},kr=class{constructor(){var t=this;this.id=Symbol(),this.queue=[],this.stage=-1,this[Ct]=-1,this[qe]=0,this[Tt]=!1,this[ie]=0,this.listeners={},this.intervals={},t.commit=function(){return t.add("commit"),t},this[ql]=0,t.$promise=null,t.$resolve=null,this[Or]=function(e){return t[Tt]=!1,t.tick(e)}}touch(){return this[ie]++}get version(){return this[ie]}add(t,e){return(e||this.queue.indexOf(t)==-1)&&this.queue.push(t),this[Tt]||this[Er](),this}get committing\u03A6(){return this.queue.indexOf("commit")>=0}get syncing\u03A6(){return this[Ct]==1}listen(t,e){let r=this.listeners[t],s=!r;return r||(r=this.listeners[t]=new Set),r.add(e),t=="raf"&&s&&this.add("raf"),this}unlisten(t,e){var r;let s=this.listeners[t];return s&&s.delete(e),t=="raf"&&s&&s.size==0&&(r=this.listeners.raf,delete this.listeners.raf),this}on(t,e){return this.listen(t,e)}un(t,e){return this.unlisten(t,e)}get promise(){var t=this;return t.$promise||(t.$promise=new Promise(function(e){return t.$resolve=e}))}tick(t){var e=this;let r=this.queue,s=this[qe]++;if(this.ts||(this.ts=t),this.dt=t-this.ts,this.ts=t,this.queue=[],this[Ct]=1,this[ie]++,r.length)for(let n=0,o=Rl(r),u=o.length;n<u;n++){let l=o[n];typeof l=="string"&&this.listeners[l]?e.listeners[l].forEach(function(a){if(a.tick instanceof Function)return a.tick(e,l);if(a instanceof Function)return a(e,l)}):l instanceof Function?l(e.dt,e):l.tick&&l.tick(e.dt,e)}return this[Ct]=this[Tt]?0:-1,e.$promise&&(e.$resolve(e),e.$promise=e.$resolve=null),e.listeners.raf&&e.add("raf"),e}[Er](){return this[Tt]||(this[Tt]=!0,this[Ct]==-1&&(this[Ct]=0),Al(this[Or])),this}schedule(t,e){var r,s;return e||(e=t[r=this.id]||(t[r]={value:!0})),(e[s=this.id]||(e[s]=new Lr({owner:this,target:t}))).update(e,!0)}unschedule(t,e={}){e||(e=t[this.id]);let r=e&&e[this.id];return r&&r.active&&r.deactivate(),this}},z=new kr;function _t(){return z.add("commit").promise}function Hl(i,t){return globalThis.setTimeout(function(){i(),_t()},t)}function Ul(i,t){return globalThis.setInterval(function(){i(),_t()},t)}var Kl=globalThis.clearInterval,Vl=globalThis.clearTimeout,It=globalThis.imba||(globalThis.imba={});It.commit=_t;It.setTimeout=Hl;It.setInterval=Ul;It.clearInterval=Kl;It.clearTimeout=Vl;var Fr=Symbol.for("#toStringDeopt"),Ah=Symbol.for("#__initor__"),Hh=Symbol.for("#__inited__"),Uh=Symbol.for("#__hooks__"),Pr=Symbol.for("#symbols"),jr=Symbol.for("#batches"),Mr=Symbol.for("#extras"),Dr=Symbol.for("#stacks"),qt=class{constructor(t){this.dom=t,this.string=""}contains(t){return this.dom.classList.contains(t)}add(t){return this.contains(t)?this:(this.string+=(this.string?" ":"")+t,this.dom.classList.add(t),this)}remove(t){if(!this.contains(t))return this;let e=new RegExp("(^|\\s)"+t+"(?=\\s|$)","g");return this.string=this.string.replace(e,""),this.dom.classList.remove(t),this}toggle(t,e){return e===void 0&&(e=!this.contains(t)),e?this.add(t):this.remove(t)}incr(t,e=0){var r=this;let s=this.stacks,n=s[t]||0;return n<1&&this.add(t),e>0&&setTimeout(function(){return r.decr(t)},e),s[t]=Math.max(n,0)+1}decr(t){let e=this.stacks,r=e[t]||0;return r==1&&this.remove(t),e[t]=Math.max(r,1)-1}reconcile(t,e){let r=this[Pr],s=this[jr],n=!0;if(!r)r=this[Pr]=[t],s=this[jr]=[e||""],this.toString=this.valueOf=this[Fr];else{let o=r.indexOf(t),u=e||"";o==-1?(r.push(t),s.push(u)):s[o]!=u?s[o]=u:n=!1}n&&(this[Mr]=" "+s.join(" "),this.sync())}valueOf(){return this.string}toString(){return this.string}[Fr](){return this.string+(this[Mr]||"")}sync(){return this.dom.flagSync$()}get stacks(){return this[Dr]||(this[Dr]={})}};var se=Symbol.for("#__init__"),Bl=Symbol.for("#__patch__"),Rr=Symbol.for("#__initor__"),Ir=Symbol.for("#__inited__"),qr=Symbol.for("#__hooks__"),Ae=Symbol.for("#getRenderContext"),zl=Symbol.for("#getDynamicContext"),Ar=Symbol(),X={context:null},Hr=class{[Bl](t={}){var e;(e=t.stack)!==void 0&&(this.stack=e)}constructor(t=null){this[se](t)}[se](t=null){var e;this.stack=t&&(e=t.stack)!==void 0?e:[]}push(t){return this.stack.push(t)}pop(t){return this.stack.pop()}},Vh=new Hr,ct=class extends Map{static[se](){return this.prototype[Rr]=Ar,this}constructor(t,e=null){super();this._=t,this.sym=e,this[Rr]===Ar&&(this[qr]&&this[qr].inited(this),this[Ir]&&this[Ir]())}pop(){return X.context=null}[Ae](t){let e=this.get(t);return e||this.set(t,e=new ct(this._,t)),X.context=e}[zl](t,e){return this[Ae](t)[Ae](e)}run(t){return this.value=t,X.context==this&&(X.context=null),this.get(t)}cache(t){return this.set(this.value,t),t}};ct[se]();function Ur(i,t=Symbol(),e=i){return X.context=i[t]||(i[t]=new ct(e,t))}function Kr(){let i=X.context,t=i||new ct(null);return i&&(X.context=null),t}function At(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}function Wl(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var ne=Symbol.for("#parent"),Vr=Symbol.for("#closestNode"),Gl=Symbol.for("#parentNode"),Ql=Symbol.for("#context"),Br=Symbol.for("#__init__"),zr=Symbol.for("##inited"),He=Symbol.for("#getRenderContext"),Jl=Symbol.for("#getDynamicContext"),Wr=Symbol.for("#insertChild"),Ue=Symbol.for("#appendChild"),Ke=Symbol.for("#replaceChild"),Gr=Symbol.for("#removeChild"),mt=Symbol.for("#insertInto"),Qr=Symbol.for("#insertIntoDeopt"),Ht=Symbol.for("#removeFrom"),Jr=Symbol.for("#removeFromDeopt"),Nt=Symbol.for("#replaceWith"),Yr=Symbol.for("#replaceWithDeopt"),Ve=Symbol.for("#placeholderNode"),Yl=Symbol.for("#attachToParent"),Xl=Symbol.for("#detachFromParent"),Zl=Symbol.for("#placeChild"),tu=Symbol.for("#beforeReconcile"),eu=Symbol.for("#afterReconcile"),ru=Symbol.for("#afterVisit"),Xr=Symbol.for("##parent"),iu=Symbol.for("##up"),Zr=Symbol.for("##context"),St=Symbol.for("#domNode"),oe=Symbol.for("##placeholderNode"),ti=Symbol.for("#domDeopt"),su=Symbol.for("#isRichElement"),ei=Symbol.for("#src"),le=Symbol.for("#htmlNodeName"),nu=Symbol.for("#getSlot"),Jh=Symbol.for("#ImbaElement"),ri=Symbol.for("#cssns"),ou=Symbol.for("#cssid"),{Event:xt,UIEvent:Yh,MouseEvent:ii,PointerEvent:Xh,KeyboardEvent:si,CustomEvent:ue,Node:ut,Comment:he,Text:Be,Element:Z,HTMLElement:ae,HTMLHtmlElement:Zh,HTMLSelectElement:ta,HTMLInputElement:ea,HTMLTextAreaElement:ra,HTMLButtonElement:ia,HTMLOptionElement:sa,HTMLScriptElement:na,SVGElement:ni,DocumentFragment:oa,ShadowRoot:la,Document:ze,Window:ua,customElements:ha}=globalThis.window,oi={};function li(i,t,e){if(!i)return e[t]=null;if(e[t]!==void 0)return e[t];let r=Object.getOwnPropertyDescriptor(i,t);return r!==void 0||i==ni?e[t]=r||null:li(Reflect.getPrototypeOf(i),t,e)}var We={},Ge={},lu={},Qe={};var uu={get(i,t){let e=i,r;for(;e&&r==null;)(e=e[ne])&&(r=e[t]);return r},set(i,t,e){let r=i,s;for(;r&&s==null;){if(te(r,t,Z))return r[t]=e,!0;r=r[ne]}return!0}},ui=class{get flags(){return this.documentElement.flags}};At(ze.prototype,ui.prototype);var hi=class{get[ne](){return this[Xr]||this.parentNode||this[iu]}get[Vr](){return this}get[Gl](){return this[ne][Vr]}get[Ql](){return this[Zr]||(this[Zr]=new Proxy(this,uu))}[Br](){return this}[zr](){return this}[He](t){return Ur(this,t)}[Jl](t,e){return this[He](t)[He](e)}[Wr](t,e){return t[mt](this,e)}[Ue](t){return t[mt](this,null)}[Ke](t,e){let r=this[Wr](t,e);return this[Gr](e),r}[Gr](t){return t[Ht](this)}[mt](t,e=null){return e?t.insertBefore(this,e):t.appendChild(this),this}[Qr](t,e){return e?t.insertBefore(this[St]||this,e):t.appendChild(this[St]||this),this}[Ht](t){return t.removeChild(this)}[Jr](t){return t.removeChild(this[St]||this)}[Nt](t,e){return e[Ke](t,this)}[Yr](t,e){return e[Ke](t,this[St]||this)}get[Ve](){return this[oe]||(this[oe]=globalThis.document.createComment("placeholder"))}set[Ve](t){let e=this[oe];this[oe]=t,e&&e!=t&&e.parentNode&&e[Nt](t)}[Yl](){let t=this[St],e=t&&t.parentNode;return t&&e&&t!=this&&(this[St]=null,this[mt](e,t),t[Ht](e)),this}[Xl](){(this[ti]!=!0?(this[ti]=!0,!0):!1)&&(this[Nt]=this[Yr],this[Ht]=this[Jr],this[mt]=this[Qr]);let t=this[Ve];return this.parentNode&&t!=this&&(t[mt](this.parentNode,this),this[Ht](this.parentNode)),this[St]=t,this}[Zl](t,e,r){let s=typeof t;if(s==="undefined"||t===null){if(r&&r instanceof he)return r;let n=globalThis.document.createComment("");return r?r[Nt](n,this):n[mt](this,null)}if(t===r)return t;if(s!=="object"){let n,o=t;return e&128&&e&256,r?r instanceof Be?(r.textContent=o,r):(n=globalThis.document.createTextNode(o),r[Nt](n,this),n):(this.appendChild(n=globalThis.document.createTextNode(o)),n)}else return r?r[Nt](t,this):t[mt](this,null)}};At(ut.prototype,hi.prototype);var ai=class{log(...t){return console.log(...t),this}emit(t,e,r={bubbles:!0,cancelable:!0}){e!=null&&(r.detail=e);let s=new ue(t,r),n=this.dispatchEvent(s);return s}text$(t){return this.textContent=t,this}[tu](){return this}[eu](){return this}[ru](){this.render&&this.render()}get flags(){return this.$flags||(this.$flags=new qt(this),this.flag$==Z.prototype.flag$&&(this.flags$ext=this.className),this.flagDeopt$()),this.$flags}flag$(t){let e=this.flags$ns;this.className=e?e+(this.flags$ext=t):this.flags$ext=t}flagDeopt$(){var t=this;this.flag$=this.flagExt$,t.flagSelf$=function(e){return t.flagSync$(t.flags$own=e)}}flagExt$(t){return this.flagSync$(this.flags$ext=t)}flagSelf$(t){return this.flagDeopt$(),this.flagSelf$(t)}flagSync$(){return this.className=(this.flags$ns||"")+(this.flags$ext||"")+" "+(this.flags$own||"")+" "+(this.$flags||"")}set$(t,e){let r=te(this,t,Z);!r||!r.set?this.setAttribute(t,e):this[t]=e}get richValue(){return this.value}set richValue(t){this.value=t}};At(Z.prototype,ai.prototype);Z.prototype.setns$=Z.prototype.setAttributeNS;Z.prototype[su]=!0;function f(i,t,e,r){let s=globalThis.document.createElement(i);return e&&(s.className=e),r!==null&&s.text$(r),t&&t[Ue]&&t[Ue](s),s}var fi=class{set$(t,e){var r;let s=oi[r=this.nodeName]||(oi[r]={}),n=li(this,t,s);!n||!n.set?this.setAttribute(t,e):this[t]=e}flag$(t){let e=this.flags$ns;this.setAttribute("class",e?e+(this.flags$ext=t):this.flags$ext=t)}flagSelf$(t){var e=this;return e.flag$=function(r){return e.flagSync$(e.flags$ext=r)},e.flagSelf$=function(r){return e.flagSync$(e.flags$own=r)},e.flagSelf$(t)}flagSync$(){return this.setAttribute("class",(this.flags$ns||"")+(this.flags$ext||"")+" "+(this.flags$own||"")+" "+(this.$flags||""))}};At(ni.prototype,fi.prototype);var ci=class{set src(t){if((this[ei]!=t?(this[ei]=t,!0):!1)&&t){if(t.adoptNode)t.adoptNode(this);else if(t.content){for(let e=t.attributes,r=0,s=Object.keys(e),n=s.length,o,u;r<n;r++)o=s[r],u=e[o],this.setAttribute(o,u);this.innerHTML=t.content}}}};At(SVGSVGElement.prototype,ci.prototype);function Ut(i){return globalThis.document.createComment(i)}function Je(i){return globalThis.document.createTextNode(i)}var fe=globalThis.navigator,hu=fe&&fe.vendor||"",mi=fe&&fe.userAgent||"",au=hu.indexOf("Apple")>-1||mi.indexOf("CriOS")>=0||mi.indexOf("FxiOS")>=0,ce=!au,di=new Map,pi=class extends ae{connectedCallback(){return ce?this.parentNode.removeChild(this):this.parentNode.connectedCallback()}disconnectedCallback(){if(!ce)return this.parentNode.disconnectedCallback()}};window.customElements.define("i-hook",pi);function fu(i,t){let e=di.get(t);if(!e){e={};let r=t.prototype,s=[r];for(;(r=r&&Object.getPrototypeOf(r))&&r.constructor!=i.constructor;)s.unshift(r);for(let n=0,o=Wl(s),u=o.length;n<u;n++){let l=o[n],a=Object.getOwnPropertyDescriptors(l);Object.assign(e,a)}di.set(t,e)}return e}function B(i,t,e,r,s){let n;typeof i!="string"&&i&&i.nodeName&&(i=i.nodeName);let o=Ge[i]||i;if(We[i]){let u=We[i],l=u.prototype[le];if(l&&ce)n=globalThis.document.createElement(l,{is:i});else if(u.create$&&l){n=globalThis.document.createElement(l),n.setAttribute("is",o);let a=fu(n,u);Object.defineProperties(n,a),n.__slots={},n.appendChild(globalThis.document.createElement("i-hook"))}else u.create$?(n=u.create$(n),n.__slots={}):console.warn("could not create tag "+i)}else n=globalThis.document.createElement(Ge[i]||i);return n[Xr]=t,n[Br](),n[zr](),r!==null&&n[nu]("__").text$(r),(e||n.flags$ns)&&n.flag$(e||""),n}function J(i,t,e={}){lu[i]=Qe[i]=t,t.nodeName=i;let r=i,s=t.prototype;if(i.indexOf("-")==-1&&(r=""+i+"-tag",Ge[i]=r),e.cssns){let n=(s._ns_||s[ri]||"")+" "+(e.cssns||"");s._ns_=n.trim()+" ",s[ri]=e.cssns}if(e.cssid){let n=(s.flags$ns||"")+" "+e.cssid;s[ou]=e.cssid,s.flags$ns=n.trim()+" "}return s[le]&&!e.extends&&(e.extends=s[le]),e.extends?(s[le]=e.extends,We[i]=t,ce&&window.customElements.define(r,t,{extends:e.extends})):window.customElements.define(r,t),t}var cu=globalThis.imba||(globalThis.imba={});cu.document=globalThis.document;function Ye(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}function mu(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}var me=Symbol.for("#parent"),$i=Symbol.for("#closestNode"),du=Symbol.for("#isRichElement"),pu=Symbol.for("#afterVisit"),yi=Symbol.for("#__initor__"),bi=Symbol.for("#__inited__"),gi=Symbol.for("#__hooks__"),_i=Symbol.for("#appendChild"),Si=Symbol.for("#removeChild"),ht=Symbol.for("#insertInto"),de=Symbol.for("#replaceWith"),xi=Symbol.for("#insertChild"),pe=Symbol.for("#removeFrom"),vi=Symbol.for("#placeChild"),wi=Symbol.for("#__init__"),$u=Symbol.for("#registerFunctionalSlot"),yu=Symbol.for("#getFunctionalSlot"),Ci=Symbol.for("#getSlot"),Xe=Symbol.for("##parent"),$e=Symbol.for("##up"),Ti=Symbol.for("##flags"),bu=Symbol.for("#domFlags"),tt=Symbol.for("#end"),Ni=Symbol.for("#textContent"),ye=Symbol.for("#textNode"),Ze=Symbol.for("#functionalSlots"),Ei=Symbol();var Kt=class{constructor(){this.childNodes=[]}log(...t){}hasChildNodes(){return!1}set[me](t){this[Xe]=t}get[me](){return this[Xe]||this[$e]}get[$i](){return this[me][$i]}get[du](){return!0}get flags(){return this[Ti]||(this[Ti]=new qt(this))}flagSync$(){return this}[pu](){return this}},gu=0,tr=class extends Kt{static[wi](){return this.prototype[yi]=Ei,this}constructor(t,e){super(...arguments);this[$e]=e,this.parentNode=null,this[bu]=t,this.childNodes=[],this[tt]=Ut("slot"+gu++),e&&e[_i](this),this[yi]===Ei&&(this[gi]&&this[gi].inited(this),this[bi]&&this[bi]())}get[me](){return this[Xe]||this.parentNode||this[$e]}set textContent(t){this[Ni]=t}get textContent(){return this[Ni]}hasChildNodes(){for(let t=0,e=Ye(this.childNodes),r=e.length;t<r;t++){let s=e[t];if(s instanceof Kt&&s.hasChildNodes())return!0;if(!(s instanceof he)){if(s instanceof ut)return!0}}return!1}text$(t){return this[ye]?this[ye].textContent=t:this[ye]=this[vi](t),this[ye]}appendChild(t){return this.parentNode&&t[ht](this.parentNode,this[tt]),this.childNodes.push(t)}[_i](t){return this.parentNode&&t[ht](this.parentNode,this[tt]),this.childNodes.push(t)}insertBefore(t,e){this.parentNode&&this.parentNode[xi](t,e);let r=this.childNodes.indexOf(e);return r>=0&&this.childNodes.splice(r,0,t),t}[Si](t){this.parentNode&&this.parentNode[Si](t);let e=this.childNodes.indexOf(t);e>=0&&this.childNodes.splice(e,1)}[ht](t,e){let r=this.parentNode;if(this.parentNode!=t?(this.parentNode=t,!0):!1){this[tt]&&(e=this[tt][ht](t,e));for(let s=0,n=Ye(this.childNodes),o=n.length;s<o;s++)n[s][ht](t,e)}return this}[de](t,e){let r=t[ht](e,this[tt]);return this[pe](e),r}[xi](t,e){if(this.parentNode&&this.insertBefore(t,e||this[tt]),e){let r=this.childNodes.indexOf(e);r>=0&&this.childNodes.splice(r,0,t)}else this.childNodes.push(t);return t}[pe](t){for(let e=0,r=Ye(this.childNodes),s=r.length;e<s;e++)r[e][pe](t);return this[tt]&&this[tt][pe](t),this.parentNode=null,this}[vi](t,e,r){let s=this.parentNode,n=typeof t;if(n==="undefined"||t===null){if(r&&r instanceof he)return r;let o=Ut("");if(r){let u=this.childNodes.indexOf(r);return this.childNodes.splice(u,1,o),s&&r[de](o,s),o}return this.childNodes.push(o),s&&o[ht](s,this[tt]),o}if(t===r)return t;if(n!=="object"){let o,u=t;if(r){if(r instanceof Be)return r.textContent=u,r;{o=Je(u);let l=this.childNodes.indexOf(r);return this.childNodes.splice(l,1,o),s&&r[de](o,s),o}}else return this.childNodes.push(o=Je(u)),s&&o[ht](s,this[tt]),o}else if(r){let o=this.childNodes.indexOf(r);return this.childNodes.splice(o,1,t),s&&r[de](t,s),t}else return this.childNodes.push(t),s&&t[ht](s,this[tt]),t}};tr[wi]();function Oi(i,t){let e=new tr(i,null);return e[$e]=t,e}var Li=class{[$u](t){let e=this[Ze]||(this[Ze]={});return e[t]||(e[t]=Oi(0,this))}[yu](t,e){let r=this[Ze];return r&&r[t]||this[Ci](t,e)}[Ci](t,e){var r;return t=="__"&&!this.render?this:(r=this.__slots)[t]||(r[t]=Oi(0,this))}};mu(ut.prototype,Li.prototype);function _u(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var Su=Symbol.for("#afterVisit"),be=Symbol.for("#insertInto"),ki=Symbol.for("#appendChild"),xu=Symbol.for("#replaceWith"),er=Symbol.for("#removeFrom"),Fi=Symbol.for("#__initor__"),Pi=Symbol.for("#__inited__"),ji=Symbol.for("#__hooks__"),Mi=Symbol.for("#__init__"),vu=Symbol.for("#domFlags"),wu=Symbol.for("##parent"),dt=Symbol.for("#end"),Cu=Symbol.for("#removeChild"),Tu=Symbol.for("#insertChild"),Di=Symbol(),rr=class extends Kt{static[Mi](){return this.prototype[Fi]=Di,this}constructor(t,e){super(...arguments);this[vu]=t,this[wu]=e,t&256||(this[dt]=Ut("list")),this.$=this.childNodes,this.length=0,e&&e[ki](this),this[Fi]===Di&&(this[ji]&&this[ji].inited(this),this[Pi]&&this[Pi]())}hasChildNodes(){return this.length!=0}[Su](t){let e=this.length;if(this.length=t,e==t)return;let r=this.parentNode;if(!r)return;let s=this.childNodes,n=this[dt];if(e>t)for(;e>t;)r[Cu](s[--e]);else if(t>e)for(;t>e;)r[Tu](s[e++],n);this.length=t}[be](t,e){this.parentNode=t,this[dt]&&this[dt][be](t,e),e=this[dt];for(let r=0,s=_u(this.childNodes),n=s.length;r<n;r++){let o=s[r];if(r==this.length)break;o[be](t,e)}return this}[ki](t){}[xu](t,e){let r=t[be](e,this[dt]);return this[er](e),r}[er](t){let e=this.length;for(;e>0;)this.childNodes[--e][er](t);this[dt]&&t.removeChild(this[dt]),this.parentNode=null}};rr[Mi]();function Et(i,t){return new rr(i,t)}function Nu(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var ge=Symbol.for("#__init__"),Eu=Symbol.for("#__patch__"),Ou=Symbol.for("##inited"),Lu=Symbol.for("#afterVisit"),ku=Symbol.for("#beforeReconcile"),Fu=Symbol.for("#afterReconcile"),ir=Symbol.for("#count"),Ri=Symbol.for("#__hooks__"),Ot=Symbol.for("#autorender"),Pu=new class{[Eu](i={}){var t;(t=i.items)!==void 0&&(this.items=t),(t=i.current)!==void 0&&(this.current=t),(t=i.lastQueued)!==void 0&&(this.lastQueued=t),(t=i.tests)!==void 0&&(this.tests=t)}constructor(i=null){this[ge](i)}[ge](i=null){var t;this.items=i&&(t=i.items)!==void 0?t:[],this.current=i&&(t=i.current)!==void 0?t:null,this.lastQueued=i&&(t=i.lastQueued)!==void 0?t:null,this.tests=i&&(t=i.tests)!==void 0?t:0}flush(){let i=null;for(;i=this.items.shift();){if(!i.parentNode||i.hydrated\u03A6)continue;let t=this.current;this.current=i,i.__F|=1024,i.connectedCallback(),this.current=t}}queue(i){var t=this;let e=this.items.length,r=0,s=this.lastQueued;this.lastQueued=i;let n=ut.DOCUMENT_POSITION_PRECEDING,o=ut.DOCUMENT_POSITION_FOLLOWING;if(e){let u=this.items.indexOf(s),l=u,a=function(h,p){return t.tests++,h.compareDocumentPosition(p)};(u==-1||s.nodeName!=i.nodeName)&&(l=u=0);let m=t.items[l];for(;m&&a(m,i)&o;)m=t.items[++l];if(l!=u)m?t.items.splice(l,0,i):t.items.push(i);else{for(;m&&a(m,i)&n;)m=t.items[--l];l!=u&&(m?t.items.splice(l+1,0,i):t.items.unshift(i))}}else t.items.push(i),t.current||globalThis.queueMicrotask(t.flush.bind(t))}run(i){var t,e;if(this.active)return;this.active=!0;let r=globalThis.document.querySelectorAll(".__ssr");console.log("running hydrator",i,r.length,Array.from(r));for(let s=0,n=Nu(r),o=n.length;s<o;s++){let u=n[s];u[ir]||(u[ir]=1),u[ir]++;let l=u.nodeName,a=(e=this.map)[l]||(e[l]=globalThis.window.customElements.get(l.toLowerCase())||ae);console.log("item type",l,a,!!Qe[l.toLowerCase()]),!(!u.connectedCallback||!u.parentNode||u.hydrated\u03A6)&&console.log("hydrate",u)}return this.active=!1}};var G=class extends ae{constructor(){super();this.flags$ns&&(this.flag$=this.flagExt$),this.setup$(),this.build()}setup$(){return this.__slots={},this.__F=0}[ge](){return this.__F|=1|2,this}[Ou](){if(this[Ri])return this[Ri].inited(this)}flag$(t){this.className=this.flags$ext=t}build(){return this}awaken(){return this}mount(){return this}unmount(){return this}rendered(){return this}dehydrate(){return this}hydrate(){return this.autoschedule=!0,this}tick(){return this.commit()}visit(){return this.commit()}commit(){return this.render\u03A6?(this.__F|=256,this.render&&this.render(),this.rendered(),this.__F=(this.__F|512)&~256&~8192):(this.__F|=8192,this)}get autoschedule(){return(this.__F&64)!=0}set autoschedule(t){t?this.__F|=64:this.__F&=~64}set autorender(t){let e=this[Ot]||(this[Ot]={});e.value=t,this.mounted\u03A6&&z.schedule(this,e)}get render\u03A6(){return!this.suspended\u03A6}get mounting\u03A6(){return(this.__F&16)!=0}get mounted\u03A6(){return(this.__F&32)!=0}get awakened\u03A6(){return(this.__F&8)!=0}get rendered\u03A6(){return(this.__F&512)!=0}get suspended\u03A6(){return(this.__F&4096)!=0}get rendering\u03A6(){return(this.__F&256)!=0}get scheduled\u03A6(){return(this.__F&128)!=0}get hydrated\u03A6(){return(this.__F&2)!=0}get ssr\u03A6(){return(this.__F&1024)!=0}schedule(){return z.on("commit",this),this.__F|=128,this}unschedule(){return z.un("commit",this),this.__F&=~128,this}async suspend(t=null){let e=this.flags.incr("_suspended_");return this.__F|=4096,t instanceof Function&&(await t(),this.unsuspend()),this}unsuspend(){return this.flags.decr("_suspended_")==0&&(this.__F&=~4096,this.commit()),this}[Lu](){return this.visit()}[ku](){return this.__F&1024&&(this.__F=this.__F&~1024,this.classList.remove("_ssr_"),this.flags$ext&&this.flags$ext.indexOf("_ssr_")==0&&(this.flags$ext=this.flags$ext.slice(5)),this.__F&512||(this.innerHTML="")),this}[Fu](){return this}connectedCallback(){let t=this.__F,e=t&1,r=t&8;if(!e&&!(t&1024)){Pu.queue(this);return}if(t&(16|32))return;this.__F|=16,e||this[ge](),t&2||(this.flags$ext=this.className,this.__F|=2,this.hydrate(),this.commit()),r||(this.awaken(),this.__F|=8),ft(this,"mount");let s=this.mount();return s&&s.then instanceof Function&&s.then(z.commit),t=this.__F=(this.__F|32)&~16,t&64&&this.schedule(),this[Ot]&&z.schedule(this,this[Ot]),this}disconnectedCallback(){if(this.__F=this.__F&(~32&~16),this.__F&128&&this.unschedule(),ft(this,"unmount"),this.unmount(),this[Ot])return z.unschedule(this,this[Ot])}};var ju=Symbol.for("#insertInto"),Ii=Symbol.for("#removeFrom");function sr(i,t){let e=t||globalThis.document.body,r=i;if(i instanceof Function){let s=new ct(e,null),n=function(){let o=X.context;X.context=s;let u=i(s);return X.context==s&&(X.context=o),u};r=n(),z.listen("commit",n)}else r.__F|=64;return r[ju](e),r}function Mu(i){return i&&i[Ii]&&i[Ii](i.parentNode),i}var qi=globalThis.imba||(globalThis.imba={});qi.mount=sr;qi.unmount=Mu;function Du(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}function Ai(){return!0}var Hi=class{\u03B1esc(){return this.keyCode==27}\u03B1tab(){return this.keyCode==9}\u03B1enter(){return this.keyCode==13}\u03B1space(){return this.keyCode==32}\u03B1up(){return this.keyCode==38}\u03B1down(){return this.keyCode==40}\u03B1left(){return this.keyCode==37}\u03B1right(){return this.keyCode==39}\u03B1del(){return this.keyCode==8||this.keyCode==46}\u03B1key(t){if(typeof t=="string")return this.key==t;if(typeof t=="number")return this.keyCode==t}};Du(si.prototype,Hi.prototype);function Ru(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}function _e(){return!0}var Ui=class{\u03B1left(){return this.button==0}\u03B1middle(){return this.button==1}\u03B1right(){return this.button==2}\u03B1shift(){return!!this.shiftKey}\u03B1alt(){return!!this.altKey}\u03B1ctrl(){return!!this.ctrlKey}\u03B1meta(){return!!this.metaKey}\u03B1mod(){let t=globalThis.navigator.platform;return/^(Mac|iPhone|iPad|iPod)/.test(t||"")?!!this.metaKey:!!this.ctrlKey}};Ru(ii.prototype,Ui.prototype);function nr(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}function Ki(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var Iu=Symbol.for("#extendType"),qu=Symbol.for("#modifierState"),Se=Symbol.for("#sharedModifierState"),Vi=Symbol.for("#onceHandlerEnd"),Da=Symbol.for("#__initor__"),Ra=Symbol.for("#__inited__"),Ia=Symbol.for("#__hooks__"),Bi=Symbol.for("#extendDescriptors"),Y=Symbol.for("#context"),zi=Symbol.for("#self"),Au=Symbol.for("#target"),Wi=Symbol.for("#stopPropagation"),Gi=Symbol.for("#defaultPrevented");Ai();_e();var Qi=class{[Iu](t){var e,r,s;let n=t[Bi]||(t[Bi]=(r=Object.getOwnPropertyDescriptors(t.prototype),s=r.constructor,delete r.constructor,r));return Object.defineProperties(this,n)}};nr(ue.prototype,Qi.prototype);var Ji=class{get[qu](){var t,e;return(t=this[Y])[e=this[Y].step]||(t[e]={})}get[Se](){var t,e;return(t=this[Y].handler)[e=this[Y].step]||(t[e]={})}[Vi](t){return gt(this[Y],"end",t)}\u03B1sel(t){return!!this.target.matches(String(t))}\u03B1closest(t){return!!this.target.closest(String(t))}\u03B1log(...t){return console.info(...t),!0}\u03B1trusted(){return!!this.isTrusted}\u03B1if(t){return!!t}\u03B1wait(t=250){return new Promise(function(e){return setTimeout(e,Dt(t))})}\u03B1self(){return this.target==this[Y].element}\u03B1cooldown(t=250){let e=this[Se];return e.active?!1:(e.active=!0,e.target=this[Y].element,e.target.flags.incr("cooldown"),this[Vi](function(){return setTimeout(function(){return e.target.flags.decr("cooldown"),e.active=!1},Dt(t))}),!0)}\u03B1throttle(t=250){let e=this[Se];return e.active?(e.next&&e.next(!1),new Promise(function(r){return e.next=function(s){return e.next=null,r(s)}})):(e.active=!0,e.el||(e.el=this[Y].element),e.el.flags.incr("throttled"),gt(this[Y],"end",function(){let r=Dt(t);return e.interval=setInterval(function(){e.next?e.next(!0):(clearInterval(e.interval),e.el.flags.decr("throttled"),e.active=!1)},r)}),!0)}\u03B1debounce(t=250){let e=this[Se],r=this;return e.queue||(e.queue=[]),e.queue.push(e.last=r),new Promise(function(s){return setTimeout(function(){return e.last==r?(r.debounced=e.queue,e.last=null,e.queue=[],s(!0)):s(!1)},Dt(t))})}\u03B1flag(t,e){let{element:r,step:s,state:n,id:o,current:u}=this[Y],l=e instanceof Z?e:e?r.closest(e):r;if(!l)return!0;this[Y].commit=!0,n[s]=o,l.flags.incr(t);let a=Date.now();return gt(u,"end",function(){let m=Date.now()-a,h=Math.max(250-m,0);return setTimeout(function(){return l.flags.decr(t)},h)}),!0}\u03B1busy(t){return this.\u03B1flag("busy",t)}\u03B1mod(t){return this.\u03B1flag("mod-"+t,globalThis.document.documentElement)}\u03B1outside(){let{handler:t}=this[Y];if(t&&t[zi])return!t[zi].parentNode.contains(this.target)}};nr(xt.prototype,Ji.prototype);function Yi(){return!0}var Xi=class{constructor(t,e){this.params=t,this.closure=e}getHandlerForMethod(t,e){return t?t[e]?t:this.getHandlerForMethod(t.parentNode,e):null}emit(t,...e){return ft(this,t,e)}on(t,...e){return Rt(this,t,...e)}once(t,...e){return gt(this,t,...e)}un(t,...e){return ee(this,t,...e)}get passive\u03A6(){return this.params.passive}get capture\u03A6(){return this.params.capture}get silent\u03A6(){return this.params.silent}get global\u03A6(){return this.params.global}async handleEvent(t){let e=this[Au]||t.currentTarget,r=this.params,s=null,n=r.silence||r.silent;this.count||(this.count=0),this.state||(this.state={});let o={element:e,event:t,modifiers:r,handler:this,id:++this.count,step:-1,state:this.state,commit:null,current:null};if(o.current=o,t.handle$mod&&t.handle$mod.apply(o,r.options||[])==!1)return;let u=xt[this.type+"$handle"]||xt[t.type+"$handle"]||t.handle$mod;if(!(u&&u.apply(o,r.options||[])==!1)){this.currentEvents||(this.currentEvents=new Set),this.currentEvents.add(t);for(let l=0,a=Object.keys(r),m=a.length,h,p;l<m;l++){if(h=a[l],p=r[h],o.step++,h[0]=="_")continue;h.indexOf("~")>0&&(h=h.split("~")[0]);let C=null,b=[t,o],d,x=null,$,g=!1,_=typeof h=="string";if(h[0]=="$"&&h[1]=="_"&&p[0]instanceof Function)h=p[0],h.passive||(o.commit=!0),b=[t,o].concat(p.slice(1)),x=e;else if(p instanceof Array){b=p.slice(),C=b;for(let c=0,y=Ki(b),T=y.length;c<T;c++){let S=y[c];if(typeof S=="string"&&S[0]=="~"&&S[1]=="$"){let w=S.slice(2).split("."),E=o[w.shift()]||t;for(let v=0,L=Ki(w),F=L.length;v<F;v++){let N=L[v];E=E?E[N]:void 0}b[c]=E}}}if(typeof h=="string"&&($=h.match(/^(emit|flag|mod|moved|pin|fit|refit|map|remap|css)-(.+)$/))&&(C||(C=b=[]),b.unshift($[2]),h=$[1]),h=="trap")t[Wi]=!0,t.stopImmediatePropagation(),t[Gi]=!0,t.preventDefault();else if(h=="stop")t[Wi]=!0,t.stopImmediatePropagation();else if(h=="prevent")t[Gi]=!0,t.preventDefault();else if(h=="commit")o.commit=!0;else if(h=="once")e.removeEventListener(t.type,this);else{if(h=="options"||h=="silence"||h=="silent")continue;if(h=="emit"){let c=b[0],y=b[1],T=new ue(c,{bubbles:!0,detail:y});T.originalEvent=t;let S=e.dispatchEvent(T)}else if(typeof h=="string"){h[0]=="!"&&(g=!0,h=h.slice(1));let c="\u03B1"+h,y=t[c];y||(y=this.type&&xt[this.type+"$"+h+"$mod"]),y||(y=t[h+"$mod"]||xt[t.type+"$"+h]||xt[h+"$mod"]),y instanceof Function?(h=y,x=o,b=C||[],t[c]&&(x=t,t[Y]=o)):h[0]=="_"?(h=h.slice(1),x=this.closure):x=this.getHandlerForMethod(e,h)}}try{h instanceof Function?d=h.apply(x||e,b):x&&(d=x[h].apply(x,b)),d&&d.then instanceof Function&&d!=z.$promise&&(o.commit&&!n&&z.commit(),d=await d)}catch(c){s=c;break}if(g&&d===!0||!g&&d===!1)break;o.value=d}if(ft(o,"end",o),o.commit&&!n&&z.commit(),this.currentEvents.delete(t),this.currentEvents.size==0&&this.emit("idle"),s)throw s}}},Zi=class{on$(t,e,r){let s="on$"+t,n;n=new Xi(e,r);let o=e.capture||!1,u=e.passive,l=o;return u&&(l={passive:u,capture:o}),this[s]instanceof Function?n=this[s](e,r,n,l):this.addEventListener(t,n,l),n}};nr(Z.prototype,Zi.prototype);var Ss=Dl(hs());var lr=Symbol.for("#getQueryParam"),as=Symbol.for("#setQueryParam"),Ha=Symbol.for("#__initor__"),Ua=Symbol.for("#__inited__"),Ka=Symbol.for("#__hooks__"),fs=Symbol.for("#query");var st=class{static parse(t,e){return t instanceof st?t:new st(t,e)}constructor(t,e){this.router=e,this.parse(t)}parse(t){var r;let e;return t instanceof URL||(t=new URL(t,this.router.origin)),(e=(r=this.router)==null?void 0:r.aliases[t.pathname])&&(t.pathname=e),this.url=t,this}get active\u03A6(){return this.router.location==this}reparse(){return this.parse(this.url)}get searchParams(){return this.url.searchParams}search(){let t=this.searchParams?this.searchParams.toString():"";return t?"?"+t:""}update(t){if(t instanceof Object)for(let e=0,r=Object.keys(t),s=r.length,n,o;e<s;e++)n=r[e],o=t[n],this.searchParams.set(n,o);else typeof t=="string"&&this.parse(t);return this}clone(){return new st(this.url.href,this.router)}equals(t){return this.toString()==String(t)}get href(){return this.url.href}get path(){return this.url.href.slice(this.url.origin.length)}get pathname(){return this.url.pathname}get query(){return this[fs]||(this[fs]=new Proxy({},{get:this[lr].bind(this),set:this[as].bind(this)}))}toString(){return this.href}[lr](t,e){return this.searchParams.get(e)}[as](t,e,r){return this[lr](t,e)!=r&&(r==null||r==""?this.searchParams.delete(e):this.searchParams.set(e,r),this.active\u03A6&&(this.router.history.replaceState({},null,this.url.toString()),this.router.touch())),!0}};var za=Symbol.for("#__initor__"),Wa=Symbol.for("#__inited__"),Ga=Symbol.for("#__hooks__"),we=class{constructor(t,e,r){this.router=t,e&&(this.location=st.parse(e),this.original=this.location.clone()),this.referrer=r}redirect(t){var e,r;return(r=(e=this.location)==null?void 0:e.update)==null||r.call(e,t),this}get path(){var t;return(t=this.location)==null?void 0:t.path}get url(){var t,e;return(e=(t=this.location)==null?void 0:t.toString)==null?void 0:e.call(t)}set path(t){this.location.path=t}abort(t=!1){return this.aborted=!0,t&&(this.forceAbort=t),this}match(t){return this.location?this.router.route(t).match(this.path):null}};function cs(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var Ja=Symbol.for("#__initor__"),Ya=Symbol.for("#__inited__"),Xa=Symbol.for("#__hooks__"),Ce=Symbol.for("#routes"),ur=Symbol.for("#match"),zu=Symbol.for("#symbol"),ms=Symbol.for("#matches"),hr=new Map,ar={},ds={};function Wu(i){if(!hr.has(i)){let t=new Map;return hr.set(i,t),t}return hr.get(i)}function Gu(i,t){let e=Wu(i);if(!e.has(t)){let r=Object.create(i);return Object.assign(r,t),e.set(t,r),r}return e.get(t)}var ps=class{};function Qu(i){if(ar[i])return ar[i];let t=ar[i]={url:i},e=i.indexOf("?"),r=i.indexOf("#");if(r>=0&&(t.hash=i.slice(r+1),i=t.url=i.slice(0,r)),e>=0){let s=t.query=i.slice(e+1);i=i.slice(0,e),t.query=ds[s]||(ds[s]=new URLSearchParams(s))}return t.path=i,t}var fr=class{constructor(t){this.router=t,this.fullPath="",this[Ce]={},this[ur]=new ps,this[ur].path=""}route(t){var e;return(e=this[Ce])[t]||(e[t]=new Te(this.router,t,this))}match(){return this[ur]}resolve(t){return"/"}},Te=class{constructor(t,e,r){this.parent=r||t.rootRoute,this.router=t,this.status=200,this.path=e,this[zu]=Symbol(),this[ms]={},this[Ce]={}}route(t){var e;return(e=this[Ce])[t]||(e[t]=new Te(this.router,t,this))}get fullPath(){return""+this.parent.fullPath+"/"+this.$path}load(t){return this.router.queue.add(t)}set path(t){var e=this;if(this.$path==t)return;if(this.raw=t,this.$path=t,this.groups=[],this.cache={},this.dynamic=!1,t.indexOf("?")>=0){let s=t.split("?");t=s.shift(),this.query={};for(let n=0,o=cs(s.join("?").split("&")),u=o.length;n<u;n++){let l=o[n];if(!l)continue;let[a,m]=l.split("=");a[0]=="!"&&(this.dynamic=!0,a=a.slice(1),m=!1),m===""&&(m=!1),m&&m[0]==":"&&(this.dynamic=!0),this.query[a]=m||m!==!1}}if(t=t.replace(/\:(\w+|\*)(\.)?/g,function(s,n,o){return e.dynamic=!0,n!="*"&&e.groups.push(n),o?"([^/#.?]+).":"([^/#?]+)"}),t==""&&e.query)return;t="^"+t;let r=t[t.length-1];r=="$"&&(t=t.slice(0,-1)+"(?=/?[#?]|/?$)"),r!="/"&&r!="$"&&t!="^/"&&(t=t+"(?=[/#?]|$)"),e.regex=new RegExp(t)}match(t=this.router.path){var l,a;var e,r;let s=this.parent.match(t);if(!s)return null;let n=Qu(t),o=n.url,u="";if(s.path&&n.path.indexOf(s.path)==0&&(u=s.path+"/",o=o.slice(u.length)),e=this.regex?o.match(this.regex):[""]){let m=u+e[0],h=[this.$path],p={};if(this.groups.length)for(let d=0,x=cs(e),$=x.length,g;d<$;d++){let _=x[d];(g=this.groups[d-1])&&(p[g]=_,h.push(_))}if(this.query)for(let d=this.query,x=0,$=Object.keys(d),g=$.length,_,c;x<g;x++){_=$[x],c=d[_];let y=_,T=(a=(l=n.query)==null?void 0:l.get)==null?void 0:a.call(l,_);if(c===!1){if(T)return null;h.push("1");continue}if(c[0]==":"&&(y=c.slice(1),c=!0),c==!0&&T||c==T)p[y]=T,h.push(T);else return null}let C=h.join("*");p=(r=this[ms])[C]||(r[C]=p);let b=Gu(s,p);return b.path=m,b}return null}resolve(t=this.router.path){if(this.raw[0]=="/"&&!this.dynamic)return this.raw.replace(/\$/g,"");let e=this.parent.match(t),r=this.parent.resolve(t),s;if(this.dynamic){let n=this.match(t);return n?n.path:null}return this.raw[0]=="?"?s=(r||"/")+this.raw:s=r+"/"+this.raw,s.replace(/\$/g,"").replace(/\/\/+/g,"/")}};var $s=Symbol.for("#__initor__"),ys=Symbol.for("#__inited__"),bs=Symbol.for("#__hooks__"),gs=Symbol.for("#__init__"),Ne=Symbol.for("#idler"),Vt=Symbol.for("#resolve"),_s=Symbol(),Ee=class extends Set{static[gs](){return this.prototype[$s]=_s,this}constructor(){super();this[Ne]=Promise.resolve(this),this[$s]===_s&&(this[bs]&&this[bs].inited(this),this[ys]&&this[ys]())}emit(t,...e){return ft(this,t,e)}on(t,...e){return Rt(this,t,...e)}once(t,...e){return gt(this,t,...e)}un(t,...e){return ee(this,t,...e)}add(t){var e=this;if(t instanceof Function&&(t=t()),!this.has(t)){t.then(function(){return e.delete(t)});let r=e.size==0;super.add(t),r&&(this[Ne]=this[Vt]=null,e.emit("busy",e))}return t}delete(t){return super.delete(t)?(this.size==0&&(this[Vt]&&(this[Vt](this),this[Vt]=null),this.emit("idle",this)),!0):!1}get idle(){var t=this;return this[Ne]||(this[Ne]=new Promise(function(e){return t[Vt]=e}))}};Ee[gs]();function cr(i,t){let e=Object.getOwnPropertyDescriptors(t);return delete e.constructor,Object.defineProperties(i,e),i}var xs=Symbol.for("#__initor__"),vs=Symbol.for("#__inited__"),ws=Symbol.for("#__hooks__"),Cs=Symbol.for("#__init__"),mr=Symbol.for("#enter"),dr=Symbol.for("#resolved"),pr=Symbol.for("#leave"),Ts=Symbol.for("#router"),Ju=Symbol.for("#routes"),pt=Symbol.for("#version"),kt=Symbol.for("#doc"),Ns=Symbol.for("#origin"),$r=Symbol.for("#request"),Bt=Symbol.for("#hash"),et=Symbol.for("#routeTo"),Oe=Symbol.for("#path"),nt=Symbol.for("#match"),zt=Symbol.for("#options"),Yu=Symbol.for("#cache"),Es=Symbol.for("#unmatched"),Wt=Symbol.for("#active"),Xu=Symbol.for("#resolvedPath"),Zu=Symbol.for("#dataKey"),th=Symbol.for("#activeKey"),Gt=Symbol.for("#urlKey"),Ft=Symbol.for("#dataMap"),Le=Symbol.for("#href"),$t=Symbol.for("#route"),Os=Symbol.for("#context"),Ls=Symbol.for("#afterVisit"),ks=Symbol.for("#routeHandler"),eh=Symbol.for("#attachToParent"),rh=Symbol.for("#detachFromParent"),Fs=Symbol();var Ps=class{get router(){return this[Ts]||(this[Ts]=new yr(this))}};cr(ze.prototype,Ps.prototype);function rt(){return!0}var cf=Cr(function(){return globalThis.document.router}),yr=class extends Ss.EventEmitter{static[Cs](){return this.prototype[xs]=Fs,this}constructor(t,e={}){super();this[Ju]={},this.aliases={},this.redirects={},this.rules={},this.options=e,this.busy=[],this[pt]=0,this[kt]=t,this.queue=new Ee,this.web\u03A6=!!t.defaultView,this.root=new fr(this),this.history=globalThis.window.history,this.location=new st(e.url||t.location.href,this),this.mode=e.mode||"history",this.queue.on("busy",function(){return globalThis.document.flags.incr("_routing_")}),this.queue.on("idle",function(){return globalThis.document.flags.decr("_routing_"),_t()}),this.setup(),this[xs]===Fs&&(this[ws]&&this[ws].inited(this),this[vs]&&this[vs]())}get origin(){return this[Ns]||(this[Ns]=this[kt].location.origin)}get query(){return this.location.query}init(){return this.refresh({mode:"replace"}),this}alias(t,e){return this.aliases[t]=e,this.location.reparse(),this}touch(){return this[pt]++}option(t,e){return e==null?this.options[t]:(this.options[t]=e,this)}get realpath(){let t=this[kt].location;return t.href.slice(t.origin.length)}get state(){return{}}get ctx(){return this[$r]}pushState(t,e,r){return this.history.pushState(t,e||null,String(r))}replaceState(t,e,r){return this.history.replaceState(t,e||null,String(r))}refresh(t={}){var e=this;if(this.refreshing)return;this.refreshing=!0;let r=this.location,s=st.parse(t.location||this.realpath,this),n=t.mode,o=this[$r];if(!s.equals(r)||!o){let u=new we(this,s,r);u.mode=n,this[$r]=u,this.emit("beforechange",u),u.aborted&&(!u.forceAbort&&globalThis.window.confirm("Are you sure you want to leave? You might have unsaved changes")?u.aborted=!1:n=="pop"?this.pushState(this.state,null,String(r)):n=="replace"&&this.replaceState(this.state,null,String(r))),u.aborted||(this.location=u.location,n=="push"?this.pushState(t.state||this.state,null,String(this.location)):n=="replace"&&this.replaceState(t.state||this.state,null,String(this.location)),this.location.state=globalThis.window.history.state,this.emit("change",u),this.touch(),_t())}return z.add(function(){let u=e[kt].location.hash;if(u!=e[Bt])return e.emit("hashchange",e[Bt]=u)}),e.refreshing=!1,e}onpopstate(t){return this.refresh({pop:!0,mode:"pop"}),this}onbeforeunload(t){let e=new we(this,null,this.location);if(this.emit("beforechange",e),e.aborted)return!0}onhashchange(t){return this.emit("hashchange",this[Bt]=this[kt].location.hash),_t()}setup(){this.onclick=this.onclick.bind(this),this.onhashchange=this.onhashchange.bind(this);let t=globalThis.window;return this[Bt]=this[kt].location.hash,this.location=st.parse(this.realpath,this),this.history.replaceState(this.state,null,String(this.location)),t.onpopstate=this.onpopstate.bind(this),t.onbeforeunload=this.onbeforeunload.bind(this),t.addEventListener("hashchange",this.onhashchange),t.addEventListener("click",this.onclick,{capture:!0}),t.document.documentElement.emit("routerinit",this),this.refresh,this}onclick(t){if(t.metaKey||t.altKey)return;let e=null,r=null,s=t.target;for(;s&&(!e||!r);)!e&&s.nodeName=="A"&&(e=s),!r&&s[et]&&(r=s),s=s.parentNode;if(e&&r!=e&&(!r||r.contains(e))){let n=e.getAttribute("href");n&&!n.match(/\:\/\//)&&(!e.getAttribute("target")||e.getAttribute("target")=="_self")&&!e.classList.contains("external")&&e.addEventListener("click",this.onclicklink.bind(this),{once:!0})}return!0}onclicklink(t){let e=t.currentTarget||t.target;e[et]&&e[et].resolve();let r=e.getAttribute("href"),s=new URL(e.href),n=s.href.slice(s.origin.length),o=this.realpath.split("#")[0],u=n.split("#")[0];return o==u?globalThis.document.location.hash=s.hash:e[et]?e[et].go():this.go(n),t.stopPropagation(),t.preventDefault()}get url(){return this.location.url}get path(){let t=this.location.path;return this.aliases[t]||t}get pathname(){return this.location.pathname}serializeParams(t){var e;if(t instanceof Object){e=[];for(let s=0,n=Object.keys(t),o=n.length,u,l;s<o;s++)u=n[s],l=t[u],e.push([u,globalThis.encodeURI(l)].join("="));return e.join("&")}return t||""}get hash(){return this[Bt]}set hash(t){this.history.replaceState({},null,"#"+this.serializeParams(t))}match(t){return this.route(t).match(this.path)}route(t){return this.root.route(t)}go(t,e={}){let r=this.location.clone().update(t,e);return this.refresh({push:!0,mode:"push",location:r,state:e}),this}replace(t,e={}){let r=this.location.clone().update(t,e);return this.refresh({replace:!0,mode:"replace",location:r,state:e})}};yr[Cs]();var br=class{constructor(t,e,r,s={}){this.parent=r,this.node=t,this[Oe]=e,this[nt]=null,this[zt]=s,this[Yu]={},this[Es]={},this[Wt]=null,this[Xu]=null,this[Zu]=Symbol(),this[th]=Symbol(),this[Gt]=Symbol()}get router(){return this.node.ownerDocument.router}get route(){return(this.parent?this.parent.route:this.router).route(this[Oe])}get match(){return this[nt]}get params(){return this[nt]||this[Es]}get state(){let t=this[Ft]||(this[Ft]=new Map),e=this.params,r=this[Ft].get(e);return r||this[Ft].set(e,r={}),r}set state(t){(this[Ft]||(this[Ft]=new Map)).set(this.params,t)}set path(t){(this[Oe]!=t?(this[Oe]=t,!0):!1)&&this.router.touch()}get isActive(){return!!this[Wt]}resolve(){let t=this.router[pt];if(!(this[pt]!=t?(this[pt]=t,!0):!1))return;let e=this.route,r=this[zt],s=this.router.path,n=e.match(s),o=this[Wt],u=this[nt],l=n!=u,a=n&&n[this[Gt]];return n&&(this[Wt]=!0,this[nt]=n,n[this[Gt]]=s),n&&(l||a!=s)&&this[dr](n,u,a),!o&&n&&this[mr](),!n&&(o||o===null)&&(this[Wt]=!1,this[pr]()),this[nt]}[mr](){var t,e;return this.node.flags.remove("not-routed"),this.node.flags.add("routed"),(e=(t=this.node)==null?void 0:t.routeDidEnter)==null?void 0:e.call(t,this)}[dr](t,e,r=""){var s,n;return(n=(s=this.node)==null?void 0:s.routeDidResolve)==null?void 0:n.call(s,this,t,e,r)}[pr](){var t,e;return this.node.flags.add("not-routed"),this.node.flags.remove("routed"),(e=(t=this.node)==null?void 0:t.routeDidLeave)==null?void 0:e.call(t,this)}},js=class extends br{[mr](){return this}[dr](){return this}[pr](){return this}resolve(){let t=this.router[pt];if(!(this[pt]!=t?(this[pt]=t,!0):!1))return;let e=this[zt],r=this.route,s=this.router.path,n=this.route.resolve(s),o=this.route.match(s);o&&(this[nt]=o,this[nt][this[Gt]]=s),e.sticky&&this[nt]&&(n=this[nt][this[Gt]]),(this[Le]!=n?(this[Le]=n,!0):!1)&&this.node.nodeName=="A"&&this.node.setAttribute("href",n),this.node.flags.toggle("active",!!o)}go(){return this.resolve(),this[zt]&&this[zt].replace?this.router.replace(this[Le]):this.router.go(this[Le])}},Ms=class{get router(){return this.ownerDocument.router}};cr(ut.prototype,Ms.prototype);var Ds=class{set route(t){if(this[$t]){this[$t].path=t;return}let e=t[0]!="/"?this[Os].route:null;this[$t]=new br(this,t,e,this.route__),this[Ls]=this.end$routed}get route(){return this[$t]}set route\u039Eto(t){var e=this;if(this[et]){this[et].path=t;return}let r=t[0]!="/"?this[Os].route:null;this[$t]=this[et]=new js(this,t,r,this.routeTo__),this[Ls]=this.end$routeTo,e.onclick=function(s){if(!s.altKey&&!s.metaKey&&!s[ks])return s.preventDefault(),s[ks]=e[et],e[et].go()}}end$routed(){if(!(this[$t]&&(this[$t].resolve(),!this[$t].isActive))&&this.visit)return this.visit()}end$routeTo(){if(this[et]&&this[et].resolve(),this.visit)return this.visit()}routeDidEnter(t){return this[eh]()}routeDidLeave(t){return this[rh]()}routeDidResolve(t,e,r){var s=this;this.routed instanceof Function&&e!=r&&s.router.queue.add(async function(){s.suspend();let n=await s.routed(e,t.state,r);return s.unsuspend()})}};cr(Z.prototype,Ds.prototype);var ih=Symbol.for("#beforeReconcile"),Qt=Symbol.for("#afterVisit"),sh=Symbol.for("#afterReconcile"),Rs=Symbol(),Is=Symbol(),qs=Symbol(),As=Symbol(),Hs=Symbol(),Us=Symbol();rt();var ke=class extends G{render(){var t,e,r,s=this._ns_||"",n,o,u,l,a,m,h,p,C,b,d,x,$,g,_,c,y,T,S,O,w,E,v;return t=this,t[ih](),e=r=1,t[Rs]===1||(e=r=0,t[Rs]=1),e||(n=f("header",t,`cz-ag header ${s}`,null)),e||(o=f("nav",n,`inner ${s}`,null)),l=a=1,(u=t[Is])||(l=a=0,t[Is]=u=f("a",o,`cz-ai ${s}`,null)),l||(u.route\u039Eto="/"),l||(m=f("strong",u,`${s}`,"HN")),l||!u.setup||u.setup(a),u[Qt](a),p=C=1,(h=t[qs])||(p=C=0,t[qs]=h=f("a",o,`cz-ak ${s}`,null)),p||(h.route\u039Eto="/newest/1"),p||(b=f("strong",h,`${s}`,"New")),p||!h.setup||h.setup(C),h[Qt](C),x=$=1,(d=t[As])||(x=$=0,t[As]=d=f("a",o,`cz-am ${s}`,null)),x||(d.route\u039Eto="/show/1"),x||(g=f("strong",d,`${s}`,"Show")),x||!d.setup||d.setup($),d[Qt]($),c=y=1,(_=t[Hs])||(c=y=0,t[Hs]=_=f("a",o,`cz-ao ${s}`,null)),c||(_.route\u039Eto="/ask/1"),c||(T=f("strong",_,`${s}`,"Ask")),c||!_.setup||_.setup(y),_[Qt](y),O=w=1,(S=t[Us])||(O=w=0,t[Us]=S=f("a",o,`cz-aq ${s}`,null)),O||(S.route\u039Eto="/jobs/1"),O||(E=f("strong",S,`${s}`,"Jobs")),O||!S.setup||S.setup(w),S[Qt](w),e||(v=f("a",o,`github ${s}`,"Built with Imba")),e||(v.href="http://github.com/solidjs/solid"),e||(v.target="_blank"),e||(v.rel="noreferrer"),t[sh](r),t}};J("nav-cz-at",ke,{});async function Ks(i,t){return(await Promise.any([fetch("https://api.hnpwa.com/v0/"+i+"/"+t+".json"),fetch("https://api.hackerwebapp.com/"+i+"?page="+t)])).json()}async function Vs(i){return(await fetch("https://api.hnpwa.com/v0/user/"+i+".json")).json()}async function Bs(i){return(await fetch("https://api.hnpwa.com/v0/item/"+i+".json")).json()}var zs=Symbol.for("#__init__"),nh=Symbol.for("#__patch__"),oh=Symbol.for("#beforeReconcile"),W=Symbol.for("#placeChild"),vt=Symbol.for("##up"),Fe=Symbol.for("#afterVisit"),lh=Symbol.for("#afterReconcile"),Ws=Symbol(),Gs=Symbol(),Qs=Symbol(),Js=Symbol(),Ys=Symbol(),Xs=Symbol(),Zs=Symbol(),tn=Symbol(),en=Symbol(),rn=Symbol(),sn=Symbol(),nn=Symbol(),on=Symbol(),ln=Symbol(),un=Symbol(),hn=Symbol(),an=Symbol(),fn=Symbol(),cn=Symbol(),mn=Symbol(),dn=Symbol(),pn=Symbol(),$n=Symbol(),yn=Symbol(),bn=Symbol(),gn=Symbol(),_n=Symbol(),Sn=Symbol(),xn=Symbol(),vn=Symbol(),wn=Symbol(),Cn=Symbol(),Tn=Symbol(),Nn=Symbol(),En=Symbol(),On=Symbol(),Ln=Symbol();rt();var Pe=class extends G{[nh](t={}){var e;(e=t.story)!==void 0&&(this.story=e)}[zs](t=null){super[zs](...arguments),this.story=t?t.story:void 0}render(){var t,e,r,s,n,o,u,l,a,m,h=this._ns_||"",p,C,b,d,x,$,g,_,c,y,T,S,O,w,E,v,L,F,N,k,K,U,j,V,Q,it;return l=this,l[oh](),a=m=1,l[Ws]===1||(a=m=0,l[Ws]=1),(p=l[Gs])||(l[Gs]=p=f("span",l,`score ${h}`,null)),C=this.story.points,C===l[Js]&&a||(l[Qs]=p[W](l[Js]=C,384,l[Qs])),a||(b=f("span",l,`title ${h}`,null)),t=e=null,this.story.url&&!this.story.url.startsWith("item?id=")?(d=x=1,(t=l[Ys])||(d=x=0,l[Ys]=t=f("a",null,`${h}`,null)),d||(t[vt]=l),$=this.story.url,$===t[Xs]||(t.href=t[Xs]=$),d||(t.target="_blank"),d||(t.rel="noreferrer"),$=this.story.title,$===t[tn]&&d||(t[Zs]=t[W](t[tn]=$,384,t[Zs])),g=_=1,(e=l[en])||(g=_=0,l[en]=e=f("span",null,`host ${h}`,null)),g||(e[vt]=l),g||e[W](" ("),c=this.story.domain,c===e[sn]&&g||(e[rn]=e[W](e[sn]=c,0,e[rn])),g||e[W](")")):(y=T=1,(t=l[nn])||(y=T=0,l[nn]=t=f("a",null,`${h}`,null)),y||(t[vt]=l),S="/item/"+this.story.id,S===t[on]||(t.route\u039Eto=t[on]=S),S=this.story.title,S===t[un]&&y||(t[ln]=t[W](t[un]=S,384,t[ln])),y||!t.setup||t.setup(T),t[Fe](T)),l[hn]=l[W](t,0,l[hn]),l[an]=l[W](e,0,l[an]),a||(O=f("br",l,`${h}`,null)),(w=l[fn])||(l[fn]=w=f("span",l,`meta ${h}`,null)),r=s=n=o=null,this.story.type!=="job"?(r="by ",E=v=1,(s=l[cn])||(E=v=0,l[cn]=s=f("a",null,`${h}`,null)),E||(s[vt]=w),L="/user/"+this.story.user,L===s[mn]||(s.route\u039Eto=s[mn]=L),L=this.story.user,L===s[pn]&&E||(s[dn]=s[W](s[pn]=L,384,s[dn])),E||!s.setup||s.setup(v),s[Fe](v),n=" "+this.story.time_ago+" | ",F=N=1,(o=l[$n])||(F=N=0,l[$n]=o=f("a",null,`${h}`,null)),F||(o[vt]=w),k="/item/"+this.story.id,k===o[yn]||(o.route\u039Eto=o[yn]=k),k=this.story.comments_count?" "+this.story.comments_count+" comments":"discuss",k===o[bn]||o.text$(String(o[bn]=k)),F||!o.setup||o.setup(N),o[Fe](N)):(K=U=1,(r=l[gn])||(K=U=0,l[gn]=r=f("a",null,`${h}`,null)),K||(r[vt]=w),j="/item/"+this.story.id,j===r[_n]||(r.route\u039Eto=r[_n]=j),j=this.story.time_ago,j===r[xn]&&K||(r[Sn]=r[W](r[xn]=j,384,r[Sn])),K||!r.setup||r.setup(U),r[Fe](U)),l[vn]=w[W](r,0,l[vn]),l[wn]=w[W](s,0,l[wn]),l[Cn]=w[W](n,0,l[Cn]),l[Tn]=w[W](o,0,l[Tn]),u=null,this.story.type!=="link"&&(V=Q=1,(u=l[Nn])||(V=Q=0,l[Nn]=u=f("span",null,`label ${h}`,null)),V||(u[vt]=w),it=this.story.type,it===u[On]&&V||(u[En]=u[W](u[On]=it,384,u[En]))),l[Ln]=w[W](u,0,l[Ln]),l[lh](m),l}};J("story-di-ar",Pe,{});function uh(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var kn=Symbol.for("#__init__"),hh=Symbol.for("#__patch__"),ah=Symbol.for("#beforeReconcile"),Jt=Symbol.for("##up"),je=Symbol.for("#afterVisit"),Me=Symbol.for("#placeChild"),fh=Symbol.for("#appendChild"),ch=Symbol.for("#afterReconcile"),Fn=Symbol(),Pn=Symbol(),jn=Symbol(),Mn=Symbol(),Dn=Symbol(),Rn=Symbol(),In=Symbol(),qn=Symbol(),An=Symbol(),Hn=Symbol(),Un=Symbol(),Kn=Symbol(),Vn=Symbol(),Bn=Symbol(),zn=Symbol(),Wn=Symbol(),Gn=Symbol();rt();var Qn=class extends G{[hh](t={}){var e;(e=t.type)!==void 0&&(this.type=e),(e=t.page)!==void 0&&(this.page=e)}[kn](t=null){var e;super[kn](...arguments),this.type=t&&(e=t.type)!==void 0?e:"news",this.page=t&&(e=t.page)!==void 0?e:1}async routed(t,e){var r;return this.page=(r=t.page)!=null?r:1,this.data=e.type||(e.type=await Ks(this.type,this.page)),window.scrollTo(0,0)}render(){var t,e,r,s,n,o=this._ns_||"",u,l,a,m,h,p,C,b,d,x,$,g,_,c,y,T,S,O,w,E,v,L,F,N,k,K;r=this,r[ah](),s=n=1,r[Fn]===1||(s=n=0,r[Fn]=1),s||(u=f("div",r,`news-view ${o}`,null)),(l=r[Pn])||(r[Pn]=l=f("div",u,`news-list-nav ${o}`,null)),t=null,this.page>1?(a=m=1,(t=r[jn])||(a=m=0,r[jn]=t=f("a",null,`page-link ${o}`,"< prev")),a||(t[Jt]=l),h="/"+this.type+"/"+(Number(this.page)-1),h===t[Mn]||(t.route\u039Eto=t[Mn]=h),a||t.set$("aria-label","Previous Page"),a||!t.setup||t.setup(m),t[je](m)):(p=C=1,(t=r[Dn])||(p=C=0,r[Dn]=t=f("span",null,`page-link disabled ${o}`,"< prev")),p||(t[Jt]=l),p||t.set$("aria-hidden","true")),r[Rn]=l[Me](t,0,r[Rn]),(b=r[In])||(r[In]=b=f("span",l,`${o}`,null)),s||b[Me]("page "),d=(x=this.route.params.page)!=null?x:1,d===r[An]&&s||(r[qn]=b[Me](r[An]=d,256,r[qn])),e=null,this.data.length>=28?($=g=1,(e=r[Hn])||($=g=0,r[Hn]=e=f("a",null,`page-link ${o}`,"more >")),$||(e[Jt]=l),_="/"+this.type+"/"+(Number(this.page)+1),_===e[Un]||(e.route\u039Eto=e[Un]=_),$||e.set$("aria-label","Next Page"),$||!e.setup||e.setup(g),e[je](g)):(c=y=1,(e=r[Kn])||(c=y=0,r[Kn]=e=f("span",null,`page-link disabled ${o}`,"more >")),c||(e[Jt]=l),c||e.set$("aria-hidden","true")),r[Vn]=l[Me](e,0,r[Vn]),s||(T=f("main",u,`news-list ${o}`,null)),(S=r[Bn])||(r[Bn]=S=f("ul",T,`${o}`,null)),(O=r[zn])||(r[zn]=O=Et(384,S)),w=0,E=O.$;for(let U=0,j=uh(this.data),V=j.length;U<V;U++){let Q=j[U];L=F=1,(v=E[w])||(L=F=0,E[w]=v=f("li",O,`news-item ${o}`,null)),L||(v[Jt]=O),k=K=1,(N=v[Wn])||(k=K=0,v[Wn]=N=B(Pe,v,`${o}`,null)),Q===v[Gn]||(N.story=v[Gn]=Q),k||!N.setup||N.setup(K),N[je](K),k||v[fh](N),w++}return O[je](w),r[ch](n),r}};J("home-page",Qn,{});function mh(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var Jn=Symbol.for("#__init__"),dh=Symbol.for("#__patch__"),ph=Symbol.for("#beforeReconcile"),Pt=Symbol.for("#placeChild"),gr=Symbol.for("#afterVisit"),_r=Symbol.for("##up"),$h=Symbol.for("#appendChild"),yh=Symbol.for("#afterReconcile"),Yn=Symbol(),Xn=Symbol(),Zn=Symbol(),to=Symbol(),eo=Symbol(),ro=Symbol(),io=Symbol(),so=Symbol(),no=Symbol(),oo=Symbol(),lo=Symbol(),Mf=Symbol(),Sr=Symbol(),uo=Symbol(),ho=Symbol(),ao=Symbol(),fo=Symbol(),co=Symbol(),mo=Symbol(),po=Symbol(),$o=Symbol(),yo=Symbol();Yi(),_e(),rt();var bh=function(i){return""+i+" "+(i===1?" reply":" replies")},jt=class extends G{[dh](t={}){var e;(e=t.open)!==void 0&&(this.open=e),(e=t.comment)!==void 0&&(this.comment=e)}[Jn](t=null){var e;super[Jn](...arguments),this.open=t&&(e=t.open)!==void 0?e:!1,this.comment=t?t.comment:void 0}render(){var t=this,e,r,s,n,o,u=this._ns_||"",l,a,m,h,p,C,b,d,x,$,g,_,c,y,T,S,O,w,E,v,L,F,N,k,K,U,j,V,Q;if(s=this,s[ph](),n=o=1,s[Yn]===1||(n=o=0,s[Yn]=1),(l=s[Xn])||(s[Xn]=l=f("div",s,`by ${u}`,null)),m=h=1,(a=s[Zn])||(m=h=0,s[Zn]=a=f("a",l,`${u}`,null)),p="/user/"+this.comment.user,p===s[to]||(a.route\u039Eto=s[to]=p),p=this.comment.user,p===s[ro]&&m||(s[eo]=a[Pt](s[ro]=p,128,s[eo])),m||a[Pt](" "),m||!a.setup||a.setup(h),a[gr](h),C=this.comment.time_ago,C===s[so]&&n||(s[io]=l[Pt](s[so]=C,0,s[io])),n||l[Pt](" ago"),d=x=1,(b=s[no])||(d=x=0,s[no]=b=f("div",s,`text ${u}`,null)),$=this.comment.content,$===s[oo]||(b.innerHTML=s[oo]=$),e=null,this.comment.comments.length&&(g=_=1,(e=s[lo])||(g=_=0,s[lo]=e=f("div",null,`toggle ${u}`,null)),g||(e[_r]=s),c=this.open||void 0,c===e[Sr]||(_|=2,e[Sr]=c),_&2&&e.flag$(`toggle ${u} `+(e[Sr]?"open":"")),T=S=1,(y=e[uo])||(T=S=0,e[uo]=y=f("a",e,`${u}`,null)),O=e[ho]||(e[ho]={$_:[function(it,Mt,wt){return wt.open=!t.open},null]}),O.$_[1]=t,T||y.on$("click",O,this),w=t.open?"[-]":"[+] "+bh(t.comment.comments.length)+" collapsed",w===e[ao]||y.text$(String(e[ao]=w))),s[fo]=s[Pt](e,0,s[fo]),r=null,t.open){E=v=1,(r=s[co])||(E=v=0,s[co]=r=f("ul",null,`comment-children ${u}`,null)),E||(r[_r]=s),(L=r[mo])||(r[mo]=L=Et(384,r)),F=0,N=L.$;for(let it=0,Mt=mh(t.comment.comments),wt=Mt.length;it<wt;it++){let vr=Mt[it];K=U=1,(k=N[F])||(K=U=0,N[F]=k=f("li",L,`${u}`,null)),K||(k[_r]=L),V=Q=1,(j=k[po])||(V=Q=0,k[po]=j=B(jt,k,`${u}`,null)),vr===k[$o]||(j.comment=k[$o]=vr),V||!j.setup||j.setup(Q),j[gr](Q),V||k[$h](j),F++}L[gr](F)}return s[yo]=s[Pt](r,0,s[yo]),s[yh](o),s}};J("comment-dk-ao",jt,{});function gh(i){let t;return i&&((t=i.toIterable)?t.call(i):i)}var _h=Symbol.for("#beforeReconcile"),ot=Symbol.for("#placeChild"),bo=Symbol.for("##up"),xr=Symbol.for("#afterVisit"),Sh=Symbol.for("#appendChild"),xh=Symbol.for("#afterReconcile"),go=Symbol(),_o=Symbol(),So=Symbol(),xo=Symbol(),vo=Symbol(),wo=Symbol(),Co=Symbol(),To=Symbol(),No=Symbol(),Eo=Symbol(),Oo=Symbol(),Lo=Symbol(),ko=Symbol(),Fo=Symbol(),Po=Symbol(),jo=Symbol(),Mo=Symbol(),Do=Symbol(),Ro=Symbol(),Io=Symbol(),qo=Symbol(),Ao=Symbol(),Ho=Symbol(),Uo=Symbol(),Ko=Symbol();rt();var Vo=class extends G{async routed(t){return window.scrollTo(0,0),this.story=await Bs(t.id)}render(){var t,e,r,s,n=this._ns_||"",o,u,l,a,m,h,p,C,b,d,x,$,g,_,c,y,T,S,O,w,E,v,L,F,N,k,K,U,j,V;e=this,e[_h](),r=s=1,e[go]===1||(r=s=0,e[go]=1),r||(o=f("div",e,`item-view ${n}`,null)),r||(u=f("div",o,`df-ah item-view-header ${n}`,null)),a=m=1,(l=e[_o])||(a=m=0,e[_o]=l=f("a",u,`${n}`,null)),h=this.story.url,h===e[So]||(l.href=e[So]=h),a||(l.target="_blank"),(p=e[xo])||(e[xo]=p=f("h1",l,`${n}`,null)),C=this.story.title,C===e[wo]&&a||(e[vo]=p[ot](e[wo]=C,384,e[vo])),t=null,this.story.domain&&(b=d=1,(t=e[Co])||(b=d=0,e[Co]=t=f("span",null,`host ${n}`,null)),b||(t[bo]=l),b||t[ot]("("),x=this.story.domain,x===t[No]&&b||(t[To]=t[ot](t[No]=x,0,t[To])),b||t[ot](")")),e[Eo]=l[ot](t,0,e[Eo]),($=e[Oo])||(e[Oo]=$=f("p",u,`meta ${n}`,null)),g=this.story.points,g===e[ko]&&r||(e[Lo]=$[ot](e[ko]=g,128,e[Lo])),r||$[ot](" points | by "),c=y=1,(_=e[Fo])||(c=y=0,e[Fo]=_=f("a",$,`${n}`,null)),T="/user/"+this.story.user,T===e[Po]||(_.route\u039Eto=e[Po]=T),T=this.story.user,T===e[Mo]&&c||(e[jo]=_[ot](e[Mo]=T,128,e[jo])),c||_[ot](" "),c||!_.setup||_.setup(y),_[xr](y),g=this.story.time_ago,g===e[Ro]&&r||(e[Do]=$[ot](e[Ro]=g,256,e[Do])),r||(S=f("div",o,`item-view-comments ${n}`,null)),(O=e[Io])||(e[Io]=O=f("p",S,`item-view-comments-header ${n}`,null)),w=this.story.comments_count?this.story.comments_count+" comments":"No comments yet.",w===e[qo]||O.text$(String(e[qo]=w)),(E=e[Ao])||(e[Ao]=E=f("ul",S,`comment ${n}`,null)),(v=e[Ho])||(e[Ho]=v=Et(384,E)),L=0,F=v.$;for(let Q=0,it=gh(this.story.comments),Mt=it.length;Q<Mt;Q++){let wt=it[Q];k=K=1,(N=F[L])||(k=K=0,F[L]=N=f("li",v,`${n}`,null)),k||(N[bo]=v),j=V=1,(U=N[Uo])||(j=V=0,N[Uo]=U=B(jt,N,`${n}`,null)),wt===N[Ko]||(U.comment=N[Ko]=wt),j||!U.setup||U.setup(V),U[xr](V),j||N[Sh](U),L++}return v[xr](L),e[xh](s),e}};J("article-page",Vo,{});var vh=Symbol.for("#beforeReconcile"),Yt=Symbol.for("##up"),yt=Symbol.for("#placeChild"),wh=Symbol.for("#afterReconcile"),Bo=Symbol(),zo=Symbol(),Wo=Symbol(),Go=Symbol(),Qo=Symbol(),Jo=Symbol(),Yo=Symbol(),Xo=Symbol(),Zo=Symbol(),tl=Symbol(),el=Symbol(),rl=Symbol(),il=Symbol(),sl=Symbol(),nl=Symbol(),ol=Symbol(),ll=Symbol(),ul=Symbol(),hl=Symbol(),al=Symbol(),fl=Symbol(),cl=Symbol(),ml=Symbol(),dl=Symbol(),pl=class extends G{async routed(t){return this.user=await Vs(t.id)}render(){var t,e,r,s,n,o,u,l=this._ns_||"",a,m,h,p,C,b,d,x,$,g,_,c,y,T,S,O,w,E,v,L,F,N,k,K,U,j,V;return n=this,n[vh](),o=u=1,n[Bo]===1||(o=u=0,n[Bo]=1),(a=n[zo])||(n[zo]=a=f("div",n,`user-view ${l}`,null)),e=r=s=null,this.user.error?(j=V=1,(e=n[fl])||(j=V=0,n[fl]=e=f("h1",null,`${l}`,"User not found.")),j||(e[Yt]=a)):(m=h=1,(e=n[Wo])||(m=h=0,n[Wo]=e=f("h1",null,`${l}`,null)),m||(e[Yt]=a),m||e[yt]("User : "),p=this.user.id,p===e[Qo]&&m||(e[Go]=e[yt](e[Qo]=p,256,e[Go])),C=b=1,(r=n[Jo])||(C=b=0,n[Jo]=r=f("ul",null,`meta ${l}`,null)),C||(r[Yt]=a),(d=r[Yo])||(r[Yo]=d=f("li",r,`${l}`,null)),C||(x=f("span",d,`label ${l}`,"Created: ")),$=this.user.created,$===r[Zo]&&C||(r[Xo]=d[yt](r[Zo]=$,256,r[Xo])),(g=r[tl])||(r[tl]=g=f("li",r,`${l}`,null)),C||(_=f("span",g,`label ${l}`,"Karma: ")),c=this.user.karma,c===r[rl]&&C||(r[el]=g[yt](r[rl]=c,256,r[el])),t=null,this.user.about&&(y=T=1,(t=r[il])||(y=T=0,r[il]=t=f("li",null,`about ${l}`,null)),y||(t[Yt]=r),S=this.user.about,S===t[sl]||(t.innerHTML=t[sl]=S)),r[nl]=r[yt](t,0,r[nl]),O=w=1,(s=n[ol])||(O=w=0,n[ol]=s=f("p",null,`links ${l}`,null)),O||(s[Yt]=a),v=L=1,(E=s[ll])||(v=L=0,s[ll]=E=f("a",s,`${l}`,"submissions ")),F="https://news.ycombinator.com/submitted?id="+this.user.id,F===s[ul]||(E.href=s[ul]=F),k=K=1,(N=s[hl])||(k=K=0,s[hl]=N=f("a",s,`${l}`,"comments")),U="https://news.ycombinator.com/threads?id="+this.user.id,U===s[al]||(N.href=s[al]=U)),n[cl]=a[yt](e,0,n[cl]),n[ml]=a[yt](r,0,n[ml]),n[dl]=a[yt](s,0,n[dl]),n[wh](u),n}};J("user-page",pl,{});var Ch=Symbol.for("#beforeReconcile"),lt=Symbol.for("#afterVisit"),at=Symbol.for("#appendChild"),Th=Symbol.for("#afterReconcile"),Nh=Symbol.for("##up"),$l=Symbol(),yl=Symbol(),bl=Symbol(),gl=Symbol(),_l=Symbol(),Sl=Symbol(),xl=Symbol(),vl=Symbol(),wl=Symbol(),Cl=Symbol(),bt,Xt=Kr(),Tl=Symbol(),De,Re;rt();var Nl=class extends G{render(){var t,e,r,s=this._ns_||"",n,o,u,l,a,m,h,p,C,b,d,x,$,g,_,c,y,T,S,O,w,E,v,L,F,N,k;return t=this,t[Ch](),e=r=1,t[$l]===1||(e=r=0,t[$l]=1),o=u=1,(n=t[yl])||(o=u=0,t[yl]=n=B(ke,t,`${s}`,null)),o||!n.setup||n.setup(u),n[lt](u),o||t[at](n),a=m=1,(l=t[bl])||(a=m=0,t[bl]=l=B("home-page",t,`${s}`,null)),a||(l.route="/$"),a||!l.setup||l.setup(m),l[lt](m),a||t[at](l),p=C=1,(h=t[gl])||(p=C=0,t[gl]=h=B("home-page",t,`${s}`,null)),p||(h.route="/news/:page"),p||!h.setup||h.setup(C),h[lt](C),p||t[at](h),d=x=1,(b=t[_l])||(d=x=0,t[_l]=b=B("home-page",t,`${s}`,null)),d||(b.route="/newest/:page"),d||(b.type="newest"),d||!b.setup||b.setup(x),b[lt](x),d||t[at](b),g=_=1,($=t[Sl])||(g=_=0,t[Sl]=$=B("home-page",t,`${s}`,null)),g||($.route="/show/:page"),g||($.type="show"),g||!$.setup||$.setup(_),$[lt](_),g||t[at]($),y=T=1,(c=t[xl])||(y=T=0,t[xl]=c=B("home-page",t,`${s}`,null)),y||(c.route="/ask/:page"),y||(c.type="ask"),y||!c.setup||c.setup(T),c[lt](T),y||t[at](c),O=w=1,(S=t[vl])||(O=w=0,t[vl]=S=B("home-page",t,`${s}`,null)),O||(S.route="/jobs/:page"),O||(S.type="jobs"),O||!S.setup||S.setup(w),S[lt](w),O||t[at](S),v=L=1,(E=t[wl])||(v=L=0,t[wl]=E=B("article-page",t,`${s}`,null)),v||(E.route="/item/:id"),v||!E.setup||E.setup(L),E[lt](L),v||t[at](E),N=k=1,(F=t[Cl])||(N=k=0,t[Cl]=F=B("user-page",t,`${s}`,null)),N||(F.route="/user/:id"),N||!F.setup||F.setup(k),F[lt](k),N||t[at](F),t[Th](r),t}};J("app",Nl,{});sr((De=Re=1,(bt=Xt[Tl])||(De=Re=0,bt=Xt[Tl]=bt=B("app",null,null,null)),De||(bt[Nh]=Xt._),De||Xt.sym||!bt.setup||bt.setup(Re),Xt.sym||bt[lt](Re),bt));
//__FOOT__
//# sourceMappingURL=/__assets__/app/app-1JXYKN6J.js.map
                      